<!DOCTYPE html>
<html> 
<head> 
  <meta http-equiv="content-type" content="text/html; charset=UTF-8" /> 
  <title>Tic Tac Toe</title> 
 
<style>

.btn-ttt {
   /* border: 1px outset blue; */
    background-color: lightBlue;
    height:100px;
    width:100px;
    cursor:pointer;
    border: 0 outset blue;
    padding: 0;
    margin-left: 0px;
    margin-right: 0px; float: left;
}

.btn-ttt:hover {
   background-color: blue;
    color:white;
}

div.center
{ 
    margin-left:25%; 
    margin-right: auto; float: left;
    margin-top: 100px;
}

table.center {
    margin-left:auto; 
    margin-right:auto;
    margin-top: 100px;
  }


</style>

<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<!-- Popper JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<!-- Latest compiled JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="libraryjs/common/User.js"></script>

<script type="text/javascript">

  var current = "X";
   
  $(document).ready(function()  {

        Reset();
       
  });

  
  function LockAndStart(toggle){

    $("#player1").prop('disabled', toggle);
    $("#player2").prop('disabled', toggle);

  }

  function FlipPlayer(mark){

    if (mark === "O"){

      return "X"
    }
    else{

      return "O";
    }

  }


  function MarkSquare(mark, buttonid){

 
      $('#'+ buttonid).text(mark);
      $('#'+ buttonid).prop('disabled', true);
      current = FlipPlayer(mark);

      var winner = CheckForWinner();

      if (winner.length != 0)
      {
       
        if (winner == "X")
        {
            alert("Player 1 (X) is the winner!!!!");
        }
        else
        {
            alert("Player 2 (O) is the winner!!!!");
        }

        DisableGrid();

      }

  }


  function DisableGrid(){

    $("button").not("#btnReset").not("#btnStart").each(function()   {        
            $(this).prop("disabled", true);
    });

  }


  function CheckForWinner(){

    // vertical winners - 1,4,7; 2,5,8; 3,6,9  
    if ($("#btn1").text().length != 0 && $("#btn1").text() == $("#btn4").text() &&  $("#btn4").text() == $("#btn7").text())
    {
        return $("#btn1").text();    
    }
    else if ($("#btn2").text().length != 0 && $("#btn2").text() == $("#btn5").text() &&  $("#btn5").text() == $("#btn8").text())
    { 
        return $("#btn2").text();    
    }
    else if ($("#btn3").text().length != 0 && $("#btn3").text() == $("#btn6").text() &&  $("#btn6").text() == $("#btn9").text())
    {
        return $("#btn3").text();    
    }     // hortizon winners - 1,2,3; 4,5,6; 7,8,9
    if ($("#btn1").text().length != 0 && $("#btn1").text() == $("#btn2").text() &&  $("#btn2").text() == $("#btn3").text())
    {
        return $("#btn1").text();    
    }
    else if ($("#btn4").text().length != 0 && $("#btn4").text() == $("#btn5").text() &&  $("#btn5").text() == $("#btn6").text())
    { 
        return $("#btn4").text();    
    }
    else if ($("#btn7").text().length != 0 && $("#btn7").text() == $("#btn8").text() &&  $("#btn8").text() == $("#btn9").text())
    {
        return $("#btn7").text();    
    }  // diagonal winners - 1,5,9; 3,5,7
    else if ($("#btn1").text().length != 0 && $("#btn1").text() == $("#btn5").text() &&  $("#btn5").text() == $("#btn9").text())
    { 
        return $("#btn1").text();    
    }
    else if ($("#btn3").text().length != 0 && $("#btn3").text() == $("#btn5").text() &&  $("#btn5").text() == $("#btn7").text())
    {
        return $("#btn3").text();    
    }
    else 
    {
      return "";
    }
  
  }


  function Reset(){

    $("button").not("#btnReset").not("#btnStart").each(function()   {
            $(this).css("background-color", HexCode());
            $(this).text("");
            $(this).prop("disabled", false);
    });

     LockAndStart(false);
     $("#player1").val(""); 
     $("#player2").val("");  
  }


  function HexCode(){

    return '#'+(Math.random()*0xFFFFFF<<0).toString(16);

  }

</script>


</head> 
<body>     
    <div>
        <table class="center">
                <tr>
                  <td><button id="btn1" class="btn-ttt" onclick="MarkSquare(current,'btn1')"></button></td>
                  <td><button id="btn2" class="btn-ttt" onclick="MarkSquare(current,'btn2')"></button></td> 
                  <td><button id="btn3" class="btn-ttt" onclick="MarkSquare(current,'btn3')"></button></td>
                </tr>
                <tr>
                  <td><button id="btn4" class="btn-ttt" onclick="MarkSquare(current,'btn4')"></button></td>
                  <td><button id="btn5" class="btn-ttt" onclick="MarkSquare(current,'btn5')"></button></td> 
                  <td><button id="btn6" class="btn-ttt" onclick="MarkSquare(current,'btn6')"></button></td>
                </tr>
                <tr>
                  <td><button id="btn7" class="btn-ttt" onclick="MarkSquare(current,'btn7')"></button></td>
                  <td><button id="btn8" class="btn-ttt" onclick="MarkSquare(current,'btn8')"></button></td> 
                  <td><button id="btn9" class="btn-ttt" onclick="MarkSquare(current,'btn9')"></button></td>
                </tr>               
        </table>
    </div>
<br/>

    <div id="control" class="center"> 

      Player 1 (X) <input type="text" id="player1"/>
      Player 2 (O) <input type="text" id="player2"/>
      <button id="btnStart" class="btn btn-primary" onclick="LockAndStart(true)">Start</button>
      <button id="btnReset" class="btn btn-primary" onclick="Reset()">Reset</button>

    </div>
                  
</body>
</html>